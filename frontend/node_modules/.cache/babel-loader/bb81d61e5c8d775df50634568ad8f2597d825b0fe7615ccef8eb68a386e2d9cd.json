{"ast":null,"code":"var _jsxFileName = \"/Users/Zainab/GA/after_GA/flamingo-public/frontend/src/App.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { BrowserRouter as Router, Routes, Route } from 'react-router-dom';\nimport ComplimentPage from './Features/Compliment';\nimport MusicPage from './Features/MusicSection';\nimport SignIn from './User/SignIn';\nimport SignUp from './User/Signup';\nimport Navbar from './NavBar';\nimport Main from './Home/Main';\nimport axios from 'axios';\nimport jwt_decode from 'jwt-decode';\nimport './src/css/App.css';\nimport './src/css/Compliment.css';\nimport './src/css/MusicSection.css';\nimport './src/css/Sign.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst App = () => {\n  _s();\n  const [isAuth, setIsAuth] = useState(false);\n  const [user, setUser] = useState({});\n  const [loaded, setLoaded] = useState(false);\n  useEffect(() => {\n    let token = localStorage.getItem('token');\n    if (token != null) {\n      let decodedUser = jwt_decode(token);\n      if (decodedUser) {\n        setIsAuth(true);\n        setUser(decodedUser);\n      } else {\n        localStorage.removeItem('token');\n        setIsAuth(false);\n      }\n    }\n    setLoaded(true);\n  }, []);\n  const registerHandler = user => {\n    axios.post('/auth/signup', user).then(res => {\n      console.log(res);\n      if (res.status === 201) {\n        console.log('Sign up successful');\n        // Redirect to the sign-in page after successful registration\n        window.location.href = '/signin';\n      }\n    }).catch(err => {\n      console.log(err.message);\n      console.log('error in app.js');\n    });\n  };\n  const loginHandler = cred => {\n    axios.post('/signin', cred).then(res => {\n      console.log(res);\n      console.log(res.data.token);\n      console.log('You are logged in!');\n      if (res.status === 200) {\n        // Redirect to the home page after successful login\n        window.location.href = '/';\n      }\n      let token = res.data.token;\n      if (token != null) {\n        localStorage.setItem('token', token);\n        let decodedUser = jwt_decode(token);\n        setIsAuth(true);\n        setUser(decodedUser);\n        console.log(decodedUser);\n      }\n    }).catch(error => {\n      console.log(error);\n      console.log('error in login page app.js');\n    });\n  };\n  const logoutHandler = e => {\n    e.preventDefault();\n    localStorage.removeItem('token');\n    setIsAuth(false);\n    setUser({});\n    window.location.href = '/'; // Redirect to the home page\n  };\n\n  if (!loaded) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: \"Loading...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 12\n    }, this); // Show a loading message or spinner while authentication status is being determined\n  }\n\n  return /*#__PURE__*/_jsxDEV(Router, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"app\",\n      children: [/*#__PURE__*/_jsxDEV(Navbar, {\n        isAuth: isAuth,\n        logoutHandler: logoutHandler\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Routes, {\n        children: [/*#__PURE__*/_jsxDEV(Route, {\n          path: \"/flamingo\",\n          element: /*#__PURE__*/_jsxDEV(Main, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 101,\n            columnNumber: 42\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 101,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          path: \"/compliment\",\n          element: isAuth ? /*#__PURE__*/_jsxDEV(ComplimentPage, {\n            user: user\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 104,\n            columnNumber: 31\n          }, this) : /*#__PURE__*/_jsxDEV(SignIn, {\n            login: loginHandler\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 104,\n            columnNumber: 64\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 19\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          path: \"/music\",\n          element: isAuth ? /*#__PURE__*/_jsxDEV(MusicPage, {\n            user: user\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 108,\n            columnNumber: 31\n          }, this) : /*#__PURE__*/_jsxDEV(SignIn, {\n            login: loginHandler\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 108,\n            columnNumber: 59\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 106,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          path: \"/signup\",\n          element: /*#__PURE__*/_jsxDEV(SignUp, {\n            register: registerHandler\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 110,\n            columnNumber: 42\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 110,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          path: \"/signin\",\n          element: /*#__PURE__*/_jsxDEV(SignIn, {\n            login: loginHandler\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 111,\n            columnNumber: 42\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 111,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 97,\n    columnNumber: 5\n  }, this);\n};\n_s(App, \"7xrITE1W0zMjVM6pg0r0rd3R7mo=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useState","useEffect","BrowserRouter","Router","Routes","Route","ComplimentPage","MusicPage","SignIn","SignUp","Navbar","Main","axios","jwt_decode","jsxDEV","_jsxDEV","App","_s","isAuth","setIsAuth","user","setUser","loaded","setLoaded","token","localStorage","getItem","decodedUser","removeItem","registerHandler","post","then","res","console","log","status","window","location","href","catch","err","message","loginHandler","cred","data","setItem","error","logoutHandler","e","preventDefault","children","fileName","_jsxFileName","lineNumber","columnNumber","className","path","element","login","register","_c","$RefreshReg$"],"sources":["/Users/Zainab/GA/after_GA/flamingo-public/frontend/src/App.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { BrowserRouter as Router, Routes, Route } from 'react-router-dom';\nimport ComplimentPage from './Features/Compliment';\nimport MusicPage from './Features/MusicSection';\nimport SignIn from './User/SignIn';\nimport SignUp from './User/Signup';\nimport Navbar from './NavBar';\nimport Main from './Home/Main';\nimport axios from 'axios';\nimport jwt_decode from 'jwt-decode';\n\nimport './src/css/App.css';\nimport './src/css/Compliment.css';\nimport './src/css/MusicSection.css';\nimport './src/css/Sign.css';\n\nconst App = () => {\n  const [isAuth, setIsAuth] = useState(false);\n  const [user, setUser] = useState({});\n  const [loaded, setLoaded] = useState(false);\n\n  useEffect(() => {\n    let token = localStorage.getItem('token');\n    if (token != null) {\n      let decodedUser = jwt_decode(token);\n\n      if (decodedUser) {\n        setIsAuth(true);\n        setUser(decodedUser);\n      } else {\n        localStorage.removeItem('token');\n        setIsAuth(false);\n      }\n    }\n    setLoaded(true);\n  }, []);\n\n  const registerHandler = (user) => {\n    axios\n      .post('/auth/signup', user)\n      .then((res) => {\n        console.log(res);\n\n        if (res.status === 201) {\n          console.log('Sign up successful');\n          // Redirect to the sign-in page after successful registration\n          window.location.href = '/signin';\n        }\n      })\n      .catch((err) => {\n        console.log(err.message);\n        console.log('error in app.js');\n      });\n  };\n\n  const loginHandler = (cred) => {\n    axios\n      .post('/signin', cred)\n      .then((res) => {\n        console.log(res);\n        console.log(res.data.token);\n        console.log('You are logged in!');\n\n        if (res.status === 200) {\n          // Redirect to the home page after successful login\n          window.location.href = '/';\n        }\n\n        let token = res.data.token;\n        if (token != null) {\n          localStorage.setItem('token', token);\n          let decodedUser = jwt_decode(token);\n          setIsAuth(true);\n          setUser(decodedUser);\n          console.log(decodedUser);\n        }\n      })\n      .catch((error) => {\n        console.log(error);\n        console.log('error in login page app.js');\n      });\n  };\n\n  const logoutHandler = (e) => {\n    e.preventDefault();\n    localStorage.removeItem('token');\n    setIsAuth(false);\n    setUser({});\n    window.location.href = '/'; // Redirect to the home page\n  };\n\n  if (!loaded) {\n    return <div>Loading...</div>; // Show a loading message or spinner while authentication status is being determined\n  }\n\n  return (\n    <Router>\n      <div className=\"app\">\n        <Navbar isAuth={isAuth} logoutHandler={logoutHandler} />\n        <Routes>\n        <Route path=\"/flamingo\" element={<Main />} />\n                  <Route\n            path=\"/compliment\"\n            element={isAuth ? <ComplimentPage user={user} /> : <SignIn login={loginHandler} />}\n          />\n          <Route\n            path=\"/music\"\n            element={isAuth ? <MusicPage user={user} /> : <SignIn login={loginHandler} />}\n          />\n          <Route path=\"/signup\" element={<SignUp register={registerHandler} />} />\n          <Route path=\"/signin\" element={<SignIn login={loginHandler} />} />\n        </Routes>\n      </div>\n    </Router>\n  );\n};\n\nexport default App;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}